(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,n){e.exports=n(13)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(3),i=n.n(c),r=(n(10),n(1)),s=(n(11),n(12),o.a.memo(function(e){var t=e.player,n=Object(a.useState)("tile"),c=Object(r.a)(n,2),i=c[0],s=c[1];return Object(a.useEffect)(function(){s(t?"tile player-tile":"tile")},[t]),o.a.createElement("div",{className:i})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(),l=Object(r.a)(i,2),u=(l[0],l[1]);return Object(a.useEffect)(function(){var e=JSON.parse(localStorage.getItem("game-cache")||"{}");u(e),console.log("connecting to websockets on",window.location.origin);var t=window.io(window.location.origin,{query:e.id?"playerId="+e.id:"",transports:["websocket"]});return window.addEventListener("keyup",function(e){var n;switch(e.keyCode){case 37:n="LEFT";break;case 38:n="UP";break;case 39:n="RIGHT";break;case 40:n="DOWN"}n&&t.emit("player:action",{type:"MOVE",payload:n})}),t.on("state:update",function(e){c(e)}),t.on("player:connected",function(e){console.log("player:connected",e),localStorage.setItem("game-cache",JSON.stringify(e)),u(e)}),t.close},[]),o.a.createElement("div",{className:"App"},n&&n.tiles&&o.a.createElement("div",{id:"game-wrapper"},n.tiles.map(function(e,t){return e.map(function(e,t){return o.a.createElement(s,Object.assign({key:t},e))})})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[4,1,2]]]);
//# sourceMappingURL=main.1f1a84cd.chunk.js.map