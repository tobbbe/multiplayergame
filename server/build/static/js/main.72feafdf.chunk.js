(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,n){e.exports=n(13)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(3),i=n.n(c),r=(n(10),n(1)),s=(n(11),n(12),a.a.memo(function(e){var t=e.player,n=Object(o.useState)("tile"),c=Object(r.a)(n,2),i=c[0],s=c[1];return Object(o.useEffect)(function(){s(t?"tile player-tile":"tile")},[t]),a.a.createElement("div",{className:i})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(function(){var e=Object(o.useState)(),t=Object(r.a)(e,2),n=(t[0],t[1]),c=Object(o.useState)({}),i=Object(r.a)(c,2),l=i[0],u=i[1];return Object(o.useEffect)(function(){var e=JSON.parse(localStorage.getItem("game-cache")||"{}");n(e),console.log("connecting to websockets on",window.location.origin,window.location.origin.indexOf("3000")>-1&&"websockets funkar antagligen inte. du \xe4r p\xe5 port 3000."),console.log("note to self: client/ m\xe5ste byggas och l\xe4ggas i servern. sen kan du k\xf6ra websockets p\xe5 serverns port (tex 5000). ALLTS\xc5: surfa till http://(ip/localhost):5000 ist\xe4llet");var t=window.io(window.location.origin,{query:e.id?"playerId="+e.id:"",transports:["websocket"]});return window.addEventListener("keyup",function(e){var n;switch(e.keyCode){case 37:n="LEFT";break;case 38:n="UP";break;case 39:n="RIGHT";break;case 40:n="DOWN"}n&&t.emit("player:action",{type:"MOVE",payload:n})}),t.on("state:update",function(e){u(e)}),t.on("player:connected",function(e){console.log("player:connected",e),localStorage.setItem("game-cache",JSON.stringify(e)),n(e)}),t.close},[]),a.a.createElement("div",{className:"App"},l&&l.tiles&&a.a.createElement("div",{id:"game-wrapper"},l.tiles.map(function(e,t){return e.map(function(e,t){return a.a.createElement(s,Object.assign({key:t},e))})})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[4,1,2]]]);
//# sourceMappingURL=main.72feafdf.chunk.js.map